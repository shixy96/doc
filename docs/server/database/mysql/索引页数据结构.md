	InnoDB 是以页为单位存放数据的

### 数据结构

| 索引页结构         | 大小 |
| :----------------- | ---- |
| File Header        | 38KB |
| Page Header        | 56KB |
| Infimum + Supremum | 26KB |
| User Records       | -    |
| Free Space         | -    |
| Page Directory     | -    |
| File Trailer       | 8KB  |



### 查找

- 定位到记录所在的页
- 从所在的页内查找相应的记录
  - 每个索引页中的记录会按照主键值从小到大的顺序组成一个单向列表。每个索引页都会为存储在它里面的记录生成一个页目录，在通过主键查找某条记录时可以在页目录中使用二分法快速定位到对应的槽，然后再遍历该槽对应的分组中的记录即可快速找到指定的记录。





##### 不可以使用索引进行排序的集中情况

- ASC、DESC 混用
- 排序列包含非同一个索引的列
- 排序列在某个联合索引内，但是这些排序列在联合索引内并不连续
- 用来形成扫描区间的索引列与排序列不同
- 排序列不是以单独列名的形式（比如函数转换）出现在 ORDER BY 子句中



##### 创建、使用索引的建议

- 只为用于搜索、排序或分组的列创建索引
- 考虑索引列中不重复值的个数
- 索引列的类型尽量小
- 为列前缀建立索引
- 覆盖索引
- 让索引以列名的形式在搜索条件中单独出现
- 主键递增
- 避免冗余和重复的索引
