#### 目标：写出易维护、易读、易复用、易扩展的代码

#### 面向对象编程 tips

1. 滥用 getter、setter 方法

   在设计类的时候，除非真的需要，否则尽量不要给属性定义 setter 方法；尽管 getter 方法相对 setter 方法要安全一些，但如果返回的是集合容器，那也要防范集合内部数据被修改的风险。（Collections.unmodifiableList）

2. Constants 类、Utils 类的设计问题

   尽量做到职责单一，定义一些细化的小类，比如 FileUtils ，而不是定义一个大而全的 Constants、Utils 类。除此之外，最好能将这些类中的属性和方法，划分到其他业务类中，能极大地提高类的内聚性和可服用性。

3. web 后端的 MVC 结构，分为 Controller 层、Service层、Repository层，每一层中又会定义对应的 VO（View Object）、BO（Bussiness Object）、Entity，是典型的数据与方法隔离的面向过程的编程风格。



#### 抽象类 vs 接口

抽象类（is-a）：

1. 特点

   - 抽象类不允许被实例化，只能被继承

   - 抽象类可以包含属性和方法，方法既可以包含代码实现，也可以是不包含代码实现的抽象方法

   - 子类继承抽象类，必须实现抽象类中的所有抽象方法

2. 解决问题

   - 代码复用（继承），避免在子类中重复编写相同的代码
   - 解决父类被错误地实例化的问题、提高代码可读性、不实现抽象方法编译报错

接口（behavior like）：

1. 特点

   - 接口不能包含属性

   - 接口只能声明方法，方法不能包含代码实现

   - 类实现接口时，必须实现接口声明的所有方法

2. 解决问题
   - 解耦（对行为的抽象），实现了约定和实现相分离，可以降低代码间的耦合性，提高代码的可拓展性。



#### 面向接口编程（基于抽象而非实现编程）

​	将接口和实现分离，分装不稳定的实现，暴露稳定的接口，降低耦合性，提高拓展性。

​	越抽象、越顶层、越脱离具体某一实现的设计，越能提高代码的灵活性，越能应对未来的需求变化。好的代码设计，不仅能应对当下的需求，而且在将来需求发生变化的时候，仍然能够在不破坏原有代码设计的情况下灵活应对。抽象是提高代码拓展性、灵活性、可维护性最有效的手段之一。

- 接口的命名不能暴露任何实现细节，要足够通用，不要出现与特定实现有关的接口
- **封装**具体的实现细节
- 为实现类定义抽象的**接口**，使用者依赖接口，而不是具体实现



​	如果在业务场景中，某个功能只有一种实现方式，未来也不可能被其他实现方式替换，那就没有必要为其设计接口，也没有必要基于接口编程，直接使用实现类就可以了。



#### 组合 & 继承

继承层次过深、过复杂，会影响代码的可维护性；继承改写成组合意味着要做更细粒度的类的拆分，要定义更多的类和接口。

如果类之间的继承结构稳定（不会轻易改变），继承层次较浅，关系不复杂，那就使用继承。

如果系统越不稳定，继承层次很深，关系复杂，就尽量使用组合来替代继承。