RxJS 中的数据流就是 Observable 对象，使用

- 观察者模式
  - 将逻辑分为 发布者（Publisher） 和 观察者（Observer），发布者只管负责生产事件，通知所有注册的观察者，观察者可以被注册在某个发布者上，负责处理接收到的事件
  - Observable 对象是一个发布者，通过 Observable.subscribe 函数将观察者注册到这个发布者上
  - 一个问题被分成三个小问题
    - 如何产生事件
    - 如何响应事件
    - 发布者和观察者关联
- 迭代器模式

> 在编程的世界中，所谓的推、拉，都是从消费者角度的描述

每个 Observable 对象，代表的是在一段时间范围内发生的一系列事件



Observable 产生的事件，只有通过 subscribe 订阅之后才会收到，在 unsubscribe 之后就不会再收到



操作符的组合组成了 RxJS 中的数据管道。在数据管道里流淌的数据就像是水，从上游流向下游。对于一个操作符来说，上游可能是一个数据源，也可能是其他操作符，下游可能是最终的观察者，也可能是另一个操作符，每一个操作符之间都是独立的，所以可以对操作符进行任意组合，从而产生各种功能的数据管道

每个操作符的功能都应该尽量精简，要解决复杂问题，应该用多个操作符的组合，而不是让一个操作符的功能无线膨胀



Marble Diagram

操作符分类

- 创建类
  - 同步
    - of、range、generate、repeat、empty、never、throw

  - 异步
    - interval、timer
    - from

- 合并类
- 过滤类
- 转化类
- 处理异常类
- 多播类
- 辅助工具类
- 条件分支类
- 数学和合计类

Functor（数学范畴论 Category Functor）



操作符实现基本考虑点

- 返回一个全新的 Observable 对象
- 对上游和下游的订阅及退订处理
- 处理异常情况
- 及时释放资源



lift操作符



let 操作符的作用是把 map 函数引入到链式调用之中，let 起到链接上下游的作用，真正的工作完全由函数参数来执行。即，把上游对象传递给函数参数，把函数参数的返回结果暴露给下游

能够被 let 当作参数使用的函数叫做 lettable 操作符



pipe 操作符不只是具备 let 的功能，还有管道的功能，可以把多个 lettable 操作符串接起来，形成数据管道